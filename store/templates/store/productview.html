{% extends 'store/landingupdate.html' %}
{% load static %}

{% block content %}
<div class="product-view-container">
  <!-- Breadcrumb Navigation -->
  <nav aria-label="breadcrumb" class="product-breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="{% url 'store' %}">Home</a></li>
      <li class="breadcrumb-item"><a href="{% url 'store' %}">Store</a></li>
      {% if product.category %}
      <li class="breadcrumb-item"><a href="#">{{ product.category }}</a></li>
      {% endif %}
      <li class="breadcrumb-item active" aria-current="page">{{ product.name }}</li>
    </ol>
  </nav>

  <div class="row product-main">
    <!-- Left Column - Product Images -->
    <div class="col-lg-6">
      <div class="product-images-card">
        <div class="product-main-image">
          <img id="mainImage" src="{{ product.imageURL }}" alt="{{ product.name }}">
          {% if product.sale_price %}
          <div class="product-badge sale">Sale</div>
          {% endif %}
          {% if product.is_new %}
          <div class="product-badge new">New</div>
          {% endif %}
        </div>
        <div class="product-thumbnails">
          <div class="thumbnail active" data-img="{{ product.imageURL }}">
            <img src="{{ product.imageURL }}" alt="{{ product.name }}">
          </div>
          {% if product.image_gallery %}
            {% for image in product.image_gallery %}
            <div class="thumbnail" data-img="{{ image.url }}">
              <img src="{{ image.url }}" alt="{{ product.name }} view {{ forloop.counter }}">
            </div>
            {% endfor %}
          {% else %}
            <!-- Placeholder thumbnails if no gallery images -->
            <div class="thumbnail" data-img="{% static 'images/placeholder_alt1.png' %}">
              <img src="{% static 'images/placeholder_alt1.png' %}" alt="{{ product.name }} alternative view">
            </div>
            <div class="thumbnail" data-img="{% static 'images/placeholder_alt2.png' %}">
              <img src="{% static 'images/placeholder_alt2.png' %}" alt="{{ product.name }} alternative view">
            </div>
          {% endif %}
        </div>
      </div>
    </div>

    <!-- Right Column - Product Details -->
    <div class="col-lg-6">
      <div class="product-details-card">
        <h1 class="product-title">{{ product.name }}</h1>
        
        <div class="product-meta">
          <div class="product-rating">
            <div class="stars">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star-half-alt"></i>
            </div>
            <span class="rating-count">({{ product.review_count|default:"24" }} reviews)</span>
          </div>
          <div class="product-sku">SKU: {{ product.sku|default:"PRD-12345" }}</div>
        </div>

        <div class="product-pricing">
          {% if product.sale_price %}
          <div class="original-price">${{ product.price|floatformat:2 }}</div>
          <div class="current-price sale-price">${{ product.sale_price|floatformat:2 }}</div>
          {% else %}
          <div class="current-price">${{ product.price|floatformat:2 }}</div>
          {% endif %}
        </div>

        <div class="product-availability">
          {% if product.inventory > 0 %}
          <span class="in-stock"><i class="fas fa-check-circle"></i> In Stock</span>
          {% else %}
          <span class="out-of-stock"><i class="fas fa-times-circle"></i> Out of Stock</span>
          {% endif %}
          <span class="shipping-info"><i class="fas fa-truck"></i> Free shipping on orders over $50</span>
        </div>

        <div class="product-description">
          <p>{{ product.description|default:"This premium product features high-quality materials and expert craftsmanship. Designed for durability and performance, it's perfect for everyday use or special occasions. Its versatile design makes it suitable for a variety of settings." }}</p>
        </div>

        {% if product.has_variations %}
        <div class="product-variations">
          <div class="variation-group">
            <label>Color:</label>
            <div class="variation-options color-options">
              <div class="color-option active" style="background-color: #3D5A80;" data-color="Navy Blue"></div>
              <div class="color-option" style="background-color: #98C1D9;" data-color="Sky Blue"></div>
              <div class="color-option" style="background-color: #E0FBFC;" data-color="White"></div>
              <div class="color-option" style="background-color: #EE6C4D;" data-color="Coral"></div>
            </div>
            <span class="selected-variation">Navy Blue</span>
          </div>

          <div class="variation-group">
            <label>Size:</label>
            <div class="variation-options size-options">
              <div class="size-option">S</div>
              <div class="size-option active">M</div>
              <div class="size-option">L</div>
              <div class="size-option">XL</div>
            </div>
          </div>
        </div>
        {% endif %}

        <div class="product-actions">
          <div class="quantity-selector">
            <label>Quantity:</label>
            <div class="quantity-control">
              <button class="quantity-btn" id="decrease-quantity">
                <i class="fas fa-minus"></i>
              </button>
              <input type="number" min="1" value="1" class="quantity-input" id="product-quantity">
              <button class="quantity-btn" id="increase-quantity">
                <i class="fas fa-plus"></i>
              </button>
            </div>
          </div>
          
          <button class="btn btn-add-cart update-cart" data-product="{{ product.id }}" data-action="add" style="flex: 1;
            background-color: #ffc107;
            color: #343a40;
            font-weight: 600;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s ease;">
            <i class="fas fa-shopping-cart mr-2"></i>Add to Cart
          </button>
          
          <button class="btn btn-outline-secondary wishlist-btn">
            <i class="far fa-heart"></i>
          </button>
        </div>

        <div class="product-additional-info">
          <div class="secure-checkout">
            <div class="secure-icon">
              <i class="fas fa-lock"></i>
            </div>
            <div class="secure-text">
              <strong>Secure Checkout</strong>
              <p>Your information is protected by 256-bit SSL encryption</p>
            </div>
          </div>

          <div class="product-guarantees">
            <div class="guarantee-item">
              <i class="fas fa-exchange-alt"></i>
              <span>30-Day Returns</span>
            </div>
            <div class="guarantee-item">
              <i class="fas fa-shield-alt"></i>
              <span>1-Year Warranty</span>
            </div>
            <div class="guarantee-item">
              <i class="fas fa-headset"></i>
              <span>24/7 Support</span>
            </div>
          </div>
        </div>

        <div class="product-share">
          <span>Share:</span>
          <div class="social-icons">
            <a href="#" class="social-icon"><i class="fab fa-facebook-f"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-pinterest-p"></i></a>
            <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Product Details Tabs -->
  <div class="product-details-tabs">
    <ul class="nav nav-tabs" id="productTabs" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="description-tab" data-toggle="tab" data-target="#description" type="button" role="tab" aria-controls="description" aria-selected="true">Description</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="specifications-tab" data-toggle="tab" data-target="#specifications" type="button" role="tab" aria-controls="specifications" aria-selected="false">Specifications</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="reviews-tab" data-toggle="tab" data-target="#reviews" type="button" role="tab" aria-controls="reviews" aria-selected="false">Reviews ({{ product.review_count|default:"24" }})</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="shipping-tab" data-toggle="tab" data-target="#shipping" type="button" role="tab" aria-controls="shipping" aria-selected="false">Shipping & Returns</button>
      </li>
    </ul>
    <div class="tab-content" id="productTabsContent">
      <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
        <div class="product-tab-content">
          <h3>Product Description</h3>
          <p>{{ product.full_description|default:"This premium product features high-quality materials and expert craftsmanship. Designed for durability and performance, it's perfect for everyday use or special occasions." }}</p>
          
          <p>Our products are made with attention to detail and a commitment to excellence. Each item undergoes rigorous quality control to ensure it meets our high standards before reaching your hands.</p>
          
          <h4>Key Features</h4>
          <ul>
            <li>Premium quality materials for durability</li>
            <li>Ergonomic design for comfort</li>
            <li>Versatile use for various occasions</li>
            <li>Modern aesthetic with timeless appeal</li>
            <li>Easy maintenance and care</li>
          </ul>
          
          <h4>What's Included</h4>
          <ul>
            <li>{{ product.name }}</li>
            <li>User manual with care instructions</li>
            <li>Warranty card</li>
          </ul>
        </div>
      </div>
      <div class="tab-pane fade" id="specifications" role="tabpanel" aria-labelledby="specifications-tab">
        <div class="product-tab-content">
          <h3>Technical Specifications</h3>
          <table class="specifications-table">
            <tbody>
              <tr>
                <th>Material</th>
                <td>{{ product.material|default:"Premium blend" }}</td>
              </tr>
              <tr>
                <th>Dimensions</th>
                <td>{{ product.dimensions|default:"10 x 8 x 2 inches" }}</td>
              </tr>
              <tr>
                <th>Weight</th>
                <td>{{ product.weight|default:"1.5 lbs" }}</td>
              </tr>
              <tr>
                <th>Color Options</th>
                <td>{{ product.color_options|default:"Navy Blue, Sky Blue, White, Coral" }}</td>
              </tr>
              <tr>
                <th>Size Options</th>
                <td>{{ product.size_options|default:"S, M, L, XL" }}</td>
              </tr>
              <tr>
                <th>Country of Origin</th>
                <td>{{ product.country_of_origin|default:"United States" }}</td>
              </tr>
              <tr>
                <th>Warranty</th>
                <td>{{ product.warranty|default:"1 Year Limited Warranty" }}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
        <div class="product-tab-content">
          <div class="reviews-summary">
            <div class="average-rating">
              <div class="rating-number">4.5</div>
              <div class="rating-stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
              </div>
              <div class="rating-count">Based on {{ product.review_count|default:"24" }} reviews</div>
            </div>
            <div class="rating-breakdown">
              <div class="rating-bar">
                <span class="rating-label">5 Stars</span>
                <div class="progress">
                  <div class="progress-bar bg-warning" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span class="rating-percent">75%</span>
              </div>
              <div class="rating-bar">
                <span class="rating-label">4 Stars</span>
                <div class="progress">
                  <div class="progress-bar bg-warning" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span class="rating-percent">15%</span>
              </div>
              <div class="rating-bar">
                <span class="rating-label">3 Stars</span>
                <div class="progress">
                  <div class="progress-bar bg-warning" role="progressbar" style="width: 5%" aria-valuenow="5" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span class="rating-percent">5%</span>
              </div>
              <div class="rating-bar">
                <span class="rating-label">2 Stars</span>
                <div class="progress">
                  <div class="progress-bar bg-warning" role="progressbar" style="width: 3%" aria-valuenow="3" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span class="rating-percent">3%</span>
              </div>
              <div class="rating-bar">
                <span class="rating-label">1 Star</span>
                <div class="progress">
                  <div class="progress-bar bg-warning" role="progressbar" style="width: 2%" aria-valuenow="2" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <span class="rating-percent">2%</span>
              </div>
            </div>
          </div>

          <div class="review-form-wrapper">
            <button class="btn btn-primary" id="write-review-btn">Write a Review</button>
            <div class="review-form" id="review-form" style="display: none;">
              <h4>Write Your Review</h4>
              <form>
                <div class="form-group">
                  <label>Your Rating:</label>
                  <div class="rating-select">
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                    <i class="far fa-star"></i>
                  </div>
                </div>
                <div class="form-group">
                  <label for="review-title">Review Title:</label>
                  <input type="text" class="form-control" id="review-title" placeholder="Summarize your review">
                </div>
                <div class="form-group">
                  <label for="review-text">Your Review:</label>
                  <textarea class="form-control" id="review-text" rows="5" placeholder="What did you like or dislike about this product?"></textarea>
                </div>
                <button type="submit" class="btn btn-primary">Submit Review</button>
              </form>
            </div>
          </div>

          <div class="customer-reviews">
            <h4>Customer Reviews</h4>
            <div class="review-filters">
              <select class="form-control">
                <option>Most Recent</option>
                <option>Highest Rated</option>
                <option>Lowest Rated</option>
              </select>
            </div>
            
            <div class="review-item">
              <div class="review-header">
                <div class="review-stars">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                </div>
                <div class="review-title">Excellent quality and design</div>
                <div class="review-author">by John S. on April 25, 2025</div>
              </div>
              <div class="review-content">
                <p>I'm extremely satisfied with this purchase. The quality is exceptional and it looks even better in person than in the photos. Would definitely recommend to others!</p>
              </div>
              <div class="review-helpful">
                <span>Was this review helpful?</span>
                <button class="btn btn-sm btn-outline-secondary">Yes (12)</button>
                <button class="btn btn-sm btn-outline-secondary">No (2)</button>
              </div>
            </div>
            
            <div class="review-item">
              <div class="review-header">
                <div class="review-stars">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="far fa-star"></i>
                </div>
                <div class="review-title">Good product, fast shipping</div>
                <div class="review-author">by Sarah M. on April 18, 2025</div>
              </div>
              <div class="review-content">
                <p>The product arrived quickly and was well-packaged. It's exactly as described and the quality is good. The only reason I'm giving 4 stars instead of 5 is because one of the smaller details wasn't perfect. Overall, I'm happy with my purchase.</p>
              </div>
              <div class="review-helpful">
                <span>Was this review helpful?</span>
                <button class="btn btn-sm btn-outline-secondary">Yes (8)</button>
                <button class="btn btn-sm btn-outline-secondary">No (1)</button>
              </div>
            </div>
            
            <div class="review-item">
              <div class="review-header">
                <div class="review-stars">
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star"></i>
                  <i class="fas fa-star-half-alt"></i>
                </div>
                <div class="review-title">Worth every penny</div>
                <div class="review-author">by Michael T. on April 10, 2025</div>
              </div>
              <div class="review-content">
                <p>I hesitated at first because of the price, but after using it for a few weeks, I can say it's worth every penny. The quality is outstanding and it's so versatile. Very happy with my purchase!</p>
              </div>
              <div class="review-helpful">
                <span>Was this review helpful?</span>
                <button class="btn btn-sm btn-outline-secondary">Yes (15)</button>
                <button class="btn btn-sm btn-outline-secondary">No (0)</button>
              </div>
            </div>
            
            <div class="pagination-wrapper">
              <nav aria-label="Review pagination">
                <ul class="pagination">
                  <li class="page-item active"><a class="page-link" href="#">1</a></li>
                  <li class="page-item"><a class="page-link" href="#">2</a></li>
                  <li class="page-item"><a class="page-link" href="#">3</a></li>
                  <li class="page-item">
                    <a class="page-link" href="#" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>
      </div>
      <div class="tab-pane fade" id="shipping" role="tabpanel" aria-labelledby="shipping-tab">
        <div class="product-tab-content">
          <h3>Shipping Information</h3>
          <div class="shipping-info-block">
            <h4><i class="fas fa-truck"></i> Delivery Options</h4>
            <ul>
              <li><strong>Standard Shipping:</strong> 3-5 business days, $5.99 (Free on orders over $50)</li>
              <li><strong>Express Shipping:</strong> 2-3 business days, $12.99</li>
              <li><strong>Next Day Delivery:</strong> Order by 2 PM EST for delivery next business day, $19.99</li>
            </ul>
            <p>We ship to all 50 US states, Canada, and select international destinations.</p>
          </div>
          
          <div class="shipping-info-block">
            <h4><i class="fas fa-exchange-alt"></i> Return Policy</h4>
            <p>We offer a 30-day return policy on most items. To be eligible for a return, your item must be unused and in the same condition that you received it. It must also be in the original packaging.</p>
            <p>To initiate a return, please contact our customer service team. Return shipping costs are the responsibility of the customer unless the return is due to our error (you received an incorrect or defective item).</p>
          </div>
          
          <div class="shipping-info-block">
            <h4><i class="fas fa-shield-alt"></i> Warranty Information</h4>
            <p>This product includes a 1-year limited warranty covering defects in materials and workmanship under normal use. The warranty does not cover damage from misuse, accidents, or normal wear and tear.</p>
            <p>For warranty claims, please contact our customer service with your order number and a description of the issue.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- You May Also Like Section -->
  <div class="related-products">
    <h3 class="related-title">You May Also Like</h3>
    <div class="row">
      {% for i in "1234"|make_list %}
      <div class="col-6 col-md-3 mb-4">
        <div class="product-card">
          <div class="product-image">
            <img src="{% static 'images/placeholder.png' %}" alt="Related Product">
            <div class="product-actions">
              <button class="action-btn quick-view" data-toggle="tooltip" title="Quick View">
                <i class="far fa-eye"></i>
              </button>
              <button class="action-btn add-to-cart" data-toggle="tooltip" title="Add to Cart">
                <i class="fas fa-shopping-cart"></i>
              </button>
              <button class="action-btn add-to-wishlist" data-toggle="tooltip" title="Add to Wishlist">
                <i class="far fa-heart"></i>
              </button>
            </div>
          </div>
          <div class="product-details">
            <h5 class="product-name">Related Product {{ forloop.counter }}</h5>
            <div class="product-price">${{ forloop.counter|add:"19" }}.99</div>
            <div class="product-rating-small">
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="fas fa-star"></i>
              <i class="far fa-star"></i>
              <span>({{ forloop.counter|add:"12" }})</span>
            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
  
  <!-- Recently Viewed Products -->
  <div class="recently-viewed">
    <h3 class="recently-viewed-title">Recently Viewed</h3>
    <div class="row">
      {% for i in "123"|make_list %}
      <div class="col-6 col-md-4 col-lg-3 mb-4">
        <div class="product-card">
          <div class="product-image">
            <img src="{% static 'images/placeholder.png' %}" alt="Recently Viewed Product">
          </div>
          <div class="product-details">
            <h5 class="product-name">Recently Viewed {{ forloop.counter }}</h5>
            <div class="product-price">${{ forloop.counter|add:"14" }}.99</div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

<style>
  /* Product View Page Styling */
  .product-view-container {
    padding: 30px 0 60px;
  }

  /* Breadcrumb */
  .product-breadcrumb {
    margin-bottom: 30px;
  }

  .breadcrumb {
    background-color: transparent;
    padding: 0;
  }

  .breadcrumb-item a {
    color: #6c757d;
    text-decoration: none;
  }

  .breadcrumb-item a:hover {
    color: #ffc107;
  }

  .breadcrumb-item.active {
    color: #343a40;
    font-weight: 600;
  }

  .breadcrumb-item + .breadcrumb-item::before {
    content: ">";
    color: #6c757d;
  }

  /* Product Main Layout */
  .product-main {
    margin-bottom: 50px;
  }

  .product-images-card, .product-details-card {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 15px rgba(0,0,0,0.1);
    padding: 25px;
    height: 100%;
  }

  /* Product Images */
  .product-main-image {
    position: relative;
    text-align: center;
    margin-bottom: 20px;
    padding: 20px;
    background-color: #f8f9fa;
    border-radius: 8px;
  }

  .product-main-image img {
    max-width: 100%;
    max-height: 400px;
    object-fit: contain;
  }

  .product-badge {
    position: absolute;
    top: 15px;
    left: 15px;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8rem;
    font-weight: 600;
    z-index: 1;
  }

  .product-badge.sale {
    background-color: #ffc107;
    color: #343a40;
  }

  .product-badge.new {
    background-color: #28a745;
    color: white;
  }

  .product-thumbnails {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 20px;
  }

  .thumbnail {
    width: 80px;
    height: 80px;
    border-radius: 4px;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
  }

  .thumbnail.active {
    border-color: #ffc107;
  }

  .thumbnail:hover {
    border-color: #e0a800;
  }

  .thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  /* Product Details */
  .product-title {
    font-weight: 700;
    color: #343a40;
    margin-bottom: 15px;
    font-size: 1.8rem;
  }

  .product-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
  }

  .product-rating {
    display: flex;
    align-items: center;
  }

  .stars {
    color: #ffc107;
    margin-right: 10px;
  }

  .rating-count {
    color: #6c757d;
    font-size: 0.9rem;
  }

  .product-sku {
    color: #6c757d;
    font-size: 0.9rem;
  }

  .product-pricing {
    margin-bottom: 15px;
  }

  .current-price {
    font-size: 1.8rem;
    font-weight: 700;
    color: #343a40;
  }

  .sale-price {
    color: #dc3545;
  }

  .original-price {
    font-size: 1.1rem;
    color: #6c757d;
    text-decoration: line-through;
    margin-right: 10px;
  }

  .product-availability {
    margin-bottom: 20px;
  }

  .in-stock {
    color: #28a745;
    font-weight: 600;
    margin-right: 15px;
  }

  .out-of-stock {
    color: #dc3545;
    font-weight: 600;
    margin-right: 15px;
  }

  .shipping-info {
    color: #6c757d;
    font-size: 0.9rem;
  }

  .product-description {
    margin-bottom: 20px;
    color: #495057;
    line-height: 1.6;
  }

  /* Product Variations */
  .product-variations {
    margin-bottom: 20px;
  }

  .variation-group {
    margin-bottom: 15px;
  }

  .variation-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #343a40;
  }

  .variation-options {
    display: flex;
    gap: 10px;
    margin-bottom: 5px;
  }

  .color-option {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    cursor: pointer;
    box-shadow: 0 0 0 1px #dee2e6;
    transition: all 0.3s ease;
  }

  .color-option.active {
    box-shadow: 0 0 0 2px #ffc107;
  }

  .size-option {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    color: #343a40;
    transition: all 0.3s ease;
  }

  .size-option:hover {
    background-color: #f8f9fa;
  }

  .size-option.active {
    background-color: #ffc107;
    border-color: #ffc107;
    color: #343a40;
  }

  .selected-variation {
    font-size: 0.85rem;
    color: #6c757d;
  }

  /* Product Actions */
  .product-actions {
    display: flex;
    align-items: center;
    margin-bottom: 25px;
  }

  .quantity-selector {
    margin-right: 15px;
  }

  .quantity-selector label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: #343a40;
  }

  .quantity-control {
    display: flex;
    align-items: center;
    border: 1px solid #dee2e6;
    border-radius: 4px;
    overflow: hidden;
  }

  .quantity-btn {
    width: 36px;
    height: 36px;
    background-color: #f8f9fa;
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .quantity-btn:hover {
    background-color: #e9ecef;
  }

  .quantity-input {
    width: 50px;
    height: 36px;
    border: none;
    text-align: center;
    font-weight: 600;
    color: #343a40;
  }

  /* Remove spinner buttons from number input */
  .quantity-input::-webkit-outer-spin-button,
  .quantity-input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .quantity-input[type=number] {
    -moz-appearance: textfield;
  }

  .add-to-cart-btn {
    flex-grow: 1;
    height: 48px;
    margin-right: 10px;
  }

  .wishlist-btn {
    width: 48px;
    height: 48px;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 4px;
    transition: all 0.3s ease;
  }

  .wishlist-btn:hover {
    background-color: #f8f9fa;
    color: #ffc107;
  }

  /* Product Additional Info */
  .product-additional-info {
    margin-bottom: 25px;
  }

  .secure-checkout {
    display: flex;
    align-items: center;
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 5px;
    margin-bottom: 15px;
  }

  .secure-icon {
    font-size: 1.5rem;
    color: #28a745;
    margin-right: 15px;
  }

  .secure-text strong {
    display: block;
    margin-bottom: 3px;
    color: #343a40;
  }

  .secure-text p {
    margin-bottom: 0;
    font-size: 0.85rem;
    color: #6c757d;
  }

  .product-guarantees {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
  }

  .guarantee-item {
    display: flex;
    align-items: center;
    color: #6c757d;
    font-size: 0.9rem;
  }

  .guarantee-item i {
    margin-right: 8px;
    color: #343a40;
  }

  /* Product Share */
  .product-share {
    display: flex;
    align-items: center;
    color: #6c757d;
  }

  .product-share span {
    margin-right: 10px;
  }

  .social-icons {
    display: flex;
    gap: 10px;
  }

  .social-icon {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: #f8f9fa;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #6c757d;
    transition: all 0.3s ease;
  }

  .social-icon:hover {
    background-color: #ffc107;
    color: #343a40;
  }

  /* Product Details Tabs */
  .product-details-tabs {
    margin-bottom: 50px;
  }

  .nav-tabs {
    border-bottom: 1px solid #dee2e6;
    margin-bottom: 30px;
  }

  .nav-tabs .nav-link {
    border: none;
    border-bottom: 3px solid transparent;
    color: #6c757d;
    font-weight: 600;
    padding: 15px 25px;
    transition: all 0.3s ease;
  }

  .nav-tabs .nav-link:hover {
    color: #343a40;
    border-bottom-color: #dee2e6;
  }

  .nav-tabs .nav-link.active {
    color: #343a40;
    border-bottom-color: #ffc107;
  }

  .product-tab-content {
    padding: 0 15px;
  }

  .product-tab-content h3 {
    font-weight: 700;
    color: #343a40;
    margin-bottom: 20px;
    position: relative;
  }

  .product-tab-content h4 {
    font-weight: 600;
    color: #343a40;
    margin-top: 25px;
    margin-bottom: 15px;
  }

  .product-tab-content p {
    color: #495057;
    line-height: 1.6;
    margin-bottom: 15px;
  }

  .product-tab-content ul {
    padding-left: 20px;
    margin-bottom: 20px;
  }

  .product-tab-content ul li {
    padding: 5px 0;
    color: #495057;
  }

  /* Specifications Table */
  .specifications-table {
    width: 100%;
    border-collapse: collapse;
  }

  .specifications-table th, .specifications-table td {
    padding: 12px 15px;
    border-bottom: 1px solid #dee2e6;
  }

  .specifications-table th {
    width: 30%;
    font-weight: 600;
    color: #343a40;
    background-color: #f8f9fa;
  }

  .specifications-table td {
    color: #495057;
  }

  /* Reviews */
  .reviews-summary {
    display: flex;
    margin-bottom: 30px;
    gap: 30px;
  }

  .average-rating {
    text-align: center;
    width: 200px;
  }

  .rating-number {
    font-size: 3rem;
    font-weight: 700;
    color: #343a40;
    margin-bottom: 10px;
  }

  .rating-stars {
    font-size: 1.5rem;
    color: #ffc107;
    margin-bottom: 10px;
  }

  .rating-count {
    color: #6c757d;
    font-size: 0.9rem;
  }

  .rating-breakdown {
    flex: 1;
  }

  .rating-bar {
    display: flex;
    align-items: center;
    margin-bottom: 8px;
  }

  .rating-label {
    width: 70px;
    text-align: right;
    padding-right: 10px;
    color: #6c757d;
    font-size: 0.9rem;
  }

  .progress {
    flex: 1;
    height: 10px;
    border-radius: 5px;
  }

  .rating-percent {
    width: 40px;
    text-align: right;
    padding-left: 10px;
    color: #6c757d;
    font-size: 0.9rem;
  }

  .review-form-wrapper {
    margin-bottom: 30px;
    padding-top: 20px;
    border-top: 1px solid #dee2e6;
  }

  .review-form {
    margin-top: 20px;
    padding: 20px;
    background-color: #f8f9fa;
    border-radius: 8px;
  }

  .rating-select {
    font-size: 1.5rem;
    color: #dee2e6;
    cursor: pointer;
  }

  .rating-select i {
    margin-right: 5px;
  }

  .rating-select i:hover {
    color: #ffc107;
  }

  .customer-reviews {
    border-top: 1px solid #dee2e6;
    padding-top: 20px;
  }

  .review-filters {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 20px;
  }

  .review-filters select {
    width: auto;
  }

  .review-item {
    padding: 20px;
    border-bottom: 1px solid #dee2e6;
  }

  .review-header {
    margin-bottom: 15px;
  }

  .review-stars {
    color: #ffc107;
    margin-bottom: 5px;
  }

  .review-title {
    font-weight: 600;
    color: #343a40;
    margin-bottom: 5px;
  }

  .review-author {
    font-size: 0.9rem;
    color: #6c757d;
  }

  .review-content {
    color: #495057;
    line-height: 1.6;
    margin-bottom: 15px;
  }

  .review-helpful {
    font-size: 0.9rem;
    color: #6c757d;
  }

  .review-helpful span {
    margin-right: 10px;
  }

  .pagination-wrapper {
    display: flex;
    justify-content: center;
    margin-top: 30px;
  }

  .pagination .page-link {
    color: #343a40;
    border-color: #dee2e6;
  }

  .pagination .page-item.active .page-link {
    background-color: #ffc107;
    border-color: #ffc107;
    color: #343a40;
  }

  /* Shipping Tab */
  .shipping-info-block {
    margin-bottom: 30px;
  }

  .shipping-info-block h4 {
    color: #343a40;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
  }

  .shipping-info-block h4 i {
    margin-right: 10px;
    color: #ffc107;
  }

  .shipping-info-block ul {
    margin-bottom: 15px;
  }

  .shipping-info-block p {
    color: #495057;
  }

  /* Related Products */
  .related-products, .recently-viewed {
    margin-top: 50px;
    margin-bottom: 50px;
  }

  .related-title, .recently-viewed-title {
    font-weight: 700;
    color: #343a40;
    margin-bottom: 25px;
    position: relative;
    display: block;
    text-align: center;
  }

  .related-title:after, .recently-viewed-title:after {
    content: '';
    display: block;
    width: 50px;
    height: 3px;
    background-color: #ffc107;
    margin: 10px auto 0;
  }

  .product-card {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 15px rgba(0,0,0,0.1);
    overflow: hidden;
    transition: all 0.3s ease;
    height: 100%;
  }

  .product-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
  }

  .product-image {
    position: relative;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 15px;
    background-color: #f8f9fa;
  }

  .product-image img {
    max-height: 100%;
    max-width: 100%;
    object-fit: contain;
  }

  .product-image .product-actions {
    position: absolute;
    bottom: 10px;
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    gap: 10px;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.3s ease;
  }

  .product-card:hover .product-image .product-actions {
    opacity: 1;
    transform: translateY(0);
  }

  .action-btn {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    background-color: white;
    border: none;
    display: flex;
    justify-content: center;
    align-items: center;
    color: #343a40;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .action-btn:hover {
    background-color: #ffc107;
    color: #343a40;
  }

  .product-details {
    padding: 15px;
    text-align: center;
  }

  .product-name {
    font-weight: 600;
    color: #343a40;
    margin-bottom: 8px;
  }

  .product-price {
    font-weight: 700;
    color: #ffc107;
    margin-bottom: 8px;
  }

  .product-rating-small {
    color: #ffc107;
    font-size: 0.8rem;
  }

  .product-rating-small span {
    color: #6c757d;
    margin-left: 5px;
  }

  /* Media queries */
  @media (max-width: 991.98px) {
    .product-main {
      margin-bottom: 30px;
    }
    
    .product-images-card {
      margin-bottom: 30px;
    }
    
    .reviews-summary {
      flex-direction: column;
    }
    
    .average-rating {
      width: 100%;
      margin-bottom: 20px;
    }
    
    .nav-tabs .nav-link {
      padding: 10px 15px;
    }
  }

  @media (max-width: 767.98px) {
    .product-title {
      font-size: 1.5rem;
    }
    
    .current-price {
      font-size: 1.5rem;
    }
    
    .product-actions {
      flex-wrap: wrap;
    }
    
    .quantity-selector {
      width: 100%;
      margin-bottom: 15px;
      margin-right: 0;
    }
    
    .add-to-cart-btn {
      flex: 1;
    }

    .tab-content .tab-pane {
      padding: 0;
    }
    
    .product-tab-content {
      padding: 0;
    }
  }

  @media (max-width: 575.98px) {
    .product-thumbnails {
      gap: 5px;
    }
    
    .thumbnail {
      width: 60px;
      height: 60px;
    }
    
    .product-guarantees {
      flex-direction: column;
      gap: 10px;
    }
  }
</style>

<script type="text/javascript">
  $(document).ready(function() {
    // Thumbnail image click
    $('.thumbnail').click(function() {
      const imgSrc = $(this).data('img');
      $('#mainImage').attr('src', imgSrc);
      $('.thumbnail').removeClass('active');
      $(this).addClass('active');
    });
    
    // Color option click
    $('.color-option').click(function() {
      const colorName = $(this).data('color');
      $('.color-option').removeClass('active');
      $(this).addClass('active');
      $(this).closest('.variation-group').find('.selected-variation').text(colorName);
    });
    
    // Size option click
    $('.size-option').click(function() {
      $('.size-option').removeClass('active');
      $(this).addClass('active');
    });
    
    // Quantity controls
    $('#increase-quantity').click(function() {
      const input = $('#product-quantity');
      const currentValue = parseInt(input.val());
      input.val(currentValue + 1);
    });
    
    $('#decrease-quantity').click(function() {
      const input = $('#product-quantity');
      const currentValue = parseInt(input.val());
      if (currentValue > 1) {
        input.val(currentValue - 1);
      }
    });
    
    // Toggle review form
    $('#write-review-btn').click(function() {
      $('#review-form').slideToggle();
    });
    
    // Review star rating
    $('.rating-select i').click(function() {
      const index = $(this).index();
      $('.rating-select i').removeClass('fas').addClass('far');
      for (let i = 0; i <= index; i++) {
        $('.rating-select i').eq(i).removeClass('far').addClass('fas');
      }
    });
    
    // Initialize tooltips
    $('[data-toggle="tooltip"]').tooltip();
    
    // Add to cart animation
    $('.add-to-cart-btn').click(function() {
      $(this).addClass('btn-success').html('<i class="fas fa-check mr-2"></i>Added to Cart');
      setTimeout(() => {
        $(this).removeClass('btn-success').html('<i class="fas fa-shopping-cart mr-2"></i>Add to Cart');
      }, 2000);
    });

    // Wishlist button toggle
    $('.wishlist-btn').click(function() {
      $(this).find('i').toggleClass('far fas');
    });
  });
</script>
{% endblock content %}